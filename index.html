<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Static Config Test</title>
  </head>
  <body>
    <h1>Static Config Test</h1>
    <p>Open the console.</p>

    <script type="module">
      // ðŸ”’ MANUAL VERSION CONTROL
      const VERSION = "v1";

      // ðŸ‘€ Prove which copy you are looking at
      console.log("INDEX.HTML VERSION:", VERSION);
      console.log("PAGE URL:", window.location.href);

      // âš ï¸ IMPORTANT:
      // GitHub Pages is hosted at:
      // https://mtcmarketing.github.io/ppm--test-hotreload/
      //
      // So we MUST use an absolute path from the repo root.
      const STATIC_CONFIG_URL =
        "/ppm--test-hotreload/static-config.js?v=" + VERSION;

      console.log("IMPORTING:", STATIC_CONFIG_URL);

      import(STATIC_CONFIG_URL)
        .then(({ MAIN_CONTENT }) => {
          const hasDynamicUpdate =
            MAIN_CONTENT?.CONTENT !== undefined;

          console.log("MAIN_CONTENT:", MAIN_CONTENT);
          console.log("has dynamic update:", hasDynamicUpdate);
        })
        .catch((err) => {
          console.error("FAILED TO IMPORT static-config.js");
          console.error(err);
        });
    </script>
  </body>
</html>
